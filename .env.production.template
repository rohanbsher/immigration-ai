# =============================================================================
# Immigration AI - PRODUCTION Environment Variables
# =============================================================================
# Fill in ALL values below before deploying to production.
# Set these in your Vercel project settings (Settings > Environment Variables).
#
# PHASE 1: BLOCKERS (app won't work without these)
# PHASE 2: STRONGLY RECOMMENDED (degraded experience without)
# PHASE 3: OPTIONAL (features disabled if missing)
# =============================================================================

# ─── PHASE 1: BLOCKERS ──────────────────────────────────────────────────────

# 1. Supabase Production Instance
#    Create at: https://supabase.com/dashboard
#    Then run all 39 migrations from supabase/migrations/ in SQL Editor
NEXT_PUBLIC_SUPABASE_URL=https://YOUR-PROJECT.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJ...
SUPABASE_SERVICE_ROLE_KEY=eyJ...

# 2. Your Production Domain
NEXT_PUBLIC_APP_URL=https://yourdomain.com
NEXT_PUBLIC_SITE_URL=https://yourdomain.com

# 3. AI API Keys (both required for full functionality)
#    OpenAI: https://platform.openai.com/api-keys
#    Anthropic: https://console.anthropic.com/settings/keys
OPENAI_API_KEY=sk-...
ANTHROPIC_API_KEY=sk-ant-...

# 4. Encryption Key for PII Data
#    Generate: openssl rand -hex 32
#    MUST be exactly 64 hex characters
ENCRYPTION_KEY=

# 5. Cron Secret for Scheduled Tasks (deadline alerts)
#    Generate: openssl rand -hex 16
#    Must be at least 16 characters
CRON_SECRET=

# 6. Virus Scanner (file uploads REJECTED without this)
#    Option A: ClamAV (self-hosted, free)
#    Option B: VirusTotal (API, free tier available)
VIRUS_SCANNER_PROVIDER=clamav
CLAMAV_API_URL=http://your-clamav-api:3000
# VIRUSTOTAL_API_KEY=  # Use this instead if choosing VirusTotal

# ─── PHASE 2: STRONGLY RECOMMENDED ──────────────────────────────────────────

# 7. Redis Rate Limiting (in-memory fallback is single-instance only)
#    Create free at: https://upstash.com
UPSTASH_REDIS_REST_URL=https://...upstash.io
UPSTASH_REDIS_REST_TOKEN=

# 8. Transactional Email (welcome emails, notifications)
#    Create at: https://resend.com (free tier: 3K emails/month)
RESEND_API_KEY=re_...
EMAIL_FROM=Immigration AI <noreply@yourdomain.com>
EMAIL_REPLY_TO=support@yourdomain.com

# 9. Error Tracking
#    Create at: https://sentry.io (free tier available)
NEXT_PUBLIC_SENTRY_DSN=https://...@sentry.io/...
SENTRY_ORG=your-org
SENTRY_PROJECT=immigration-ai
SENTRY_AUTH_TOKEN=sntrys_...

# ─── PHASE 3: OPTIONAL ──────────────────────────────────────────────────────

# 10. Stripe Billing (only if charging for subscriptions)
#     Create at: https://stripe.com
STRIPE_SECRET_KEY=sk_live_...
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_live_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_PRO_MONTHLY=price_...
STRIPE_PRICE_PRO_YEARLY=price_...
STRIPE_PRICE_ENTERPRISE_MONTHLY=price_...
STRIPE_PRICE_ENTERPRISE_YEARLY=price_...

# 11. Product Analytics (usage tracking, funnels)
#     Create at: https://posthog.com (free tier: 1M events/month)
NEXT_PUBLIC_POSTHOG_KEY=phc_...
NEXT_PUBLIC_POSTHOG_HOST=https://app.posthog.com
